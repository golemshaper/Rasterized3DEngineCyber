import bpy

def format_vertex(v):
    return f"{v[0]:.6f}f, {v[1]:.6f}f, {v[2]:.6f}f"

def export_mesh_as_c_triangles(obj):
    mesh = obj.data
    mesh.calc_loop_triangles()

    print("MeshCube.Tris = {")
    
    for tri in mesh.loop_triangles:
        verts = [mesh.vertices[i].co for i in tri.vertices]
        
        # Ensure consistent winding (Blender uses counter-clockwise by default)
        # Reverse if needed to match your clockwise format
        v0, v1, v2 = verts  # or v0, v2, v1 if you want to flip winding

        line = f"    triangle{{ {format_vertex(v0)}, {format_vertex(v1)}, {format_vertex(v2)} }},"
        print(line)

    print("};")

# Run on the active object
obj = bpy.context.active_object
if obj and obj.type == 'MESH':
    export_mesh_as_c_triangles(obj)
else:
    print("Please select a mesh object in Object Mode.")